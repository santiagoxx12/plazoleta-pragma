<div class="app-container">
  <!-- Modern Header -->
  <header class="app-header">
    <div class="header-content">
      <div class="header-logo">
        <img src="https://d84l1y8p4kdic.cloudfront.net/assets/food-court-logo.png" alt="Food Court Logo"
        >

        <h1>Plazoleta Gourmet</h1>
      </div>

      <nav class="header-nav" *ngIf="isAuthenticated">
        <a routerLink="/restaurants" class="nav-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 11H7a5 5 0 0 0 0 10h10a5 5 0 0 0 0-10Z"/><path d="M17 11V9a3 3 0 0 0-6 0v2"/><path d="M11 11V9a3 3 0 0 0-6 0v2"/><path d="M8 11V9"/></svg>
          Restaurantes
        </a>
        <a routerLink="/menu" class="nav-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z"/><line x1="6" y1="17" x2="18" y2="17"/></svg>
          Menú
        </a>
        <a routerLink="/orders" class="nav-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 7 3 5"/><path d="M9 5 5 9"/><path d="m13 5-9 9"/><path d="M17 5H5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9"/><path d="M21 3h-6v6h6V3Z"/></svg>
          Mis Pedidos
        </a>
      </nav>

      <!-- Fixed dropdown menu -->
      <div class="user-section" *ngIf="isAuthenticated">
        <div class="user-menu" (click)="toggleUserMenu()">
          <div class="user-avatar">
            <span>{{ username.charAt(0).toUpperCase() }}</span>
          </div>
        </div>

        <div class="dropdown-menu" [class.active]="isUserMenuOpen">
          <div class="dropdown-header">
            <div class="user-avatar">
              <span>{{ username.charAt(0).toUpperCase() }}</span>
            </div>
            <div class="user-info">
              <span class="user-name">{{ username }}</span>
              <span class="user-email">{{ userRole ? 'Rol: ' + userRole : 'Sin rol asignado' }}</span>
            </div>
          </div>
          <div class="dropdown-divider"></div>
          <a routerLink="/profile" class="dropdown-item" (click)="isUserMenuOpen = false">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Mi Perfil
          </a>
          <a routerLink="/favorites" class="dropdown-item" (click)="isUserMenuOpen = false">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
            Favoritos
          </a>
          <div class="dropdown-divider"></div>
          <button (click)="signOut()" class="dropdown-item logout-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            Cerrar sesión
          </button>
        </div>

        <!-- Overlay to close dropdown when clicking outside -->
        <div class="dropdown-overlay" *ngIf="isUserMenuOpen" (click)="isUserMenuOpen = false"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="app-content" [ngClass]="{'auth-content': isAuthenticated, 'unauth-content': !isAuthenticated}">
    <div class="content-container">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- Minimalist Footer -->
  <footer class="app-footer">
    <div class="footer-content">
      <div class="footer-logo">
        <h3>Plazoleta Gourmet</h3>
        <div class="social-links">
          <a href="#" class="social-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
          </a>
          <a href="#" class="social-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
          </a>
          <a href="#" class="social-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
          </a>
        </div>
      </div>
      <div class="footer-links">
        <a href="#">Acerca de</a>
        <a href="#">Contacto</a>
        <a href="#">Términos</a>
        <a href="#">Privacidad</a>
      </div>
      <div class="footer-copyright">
        © 2025 Plazoleta Gourmet
      </div>
    </div>
  </footer>
</div>
